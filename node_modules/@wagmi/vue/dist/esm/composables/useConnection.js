import { getConnection, watchConnection, } from '@wagmi/core';
import { onScopeDispose, reactive, readonly, toRefs } from 'vue';
import { updateState } from '../utils/updateState.js';
import { useConfig } from './useConfig.js';
/** https://wagmi.sh/vue/api/composables/useConnection */
export function useConnection(parameters = {}) {
    const config = useConfig(parameters);
    const connection = reactive(getConnection(config));
    const unsubscribe = watchConnection(config, {
        onChange(data) {
            updateState(connection, data);
        },
    });
    onScopeDispose(() => unsubscribe());
    return toRefs(readonly(connection));
}
//# sourceMappingURL=useConnection.js.map